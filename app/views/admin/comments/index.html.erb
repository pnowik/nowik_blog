<h1>Manage Post Comments <%= content_tag(:small, link_to('new', new_admin_post_comment_path(params[:post_id]))) %></h1>
<table style="width:100%">
  <tr>
    <th>post_id</th>
    <th>comment_id</th>
    <th>body</th>
    <th>publish_comment</th>
    <th>show_comment</th>
    <th>edit_comment</th>
    <th>delete_comment</th>
  </tr>
  <% @comments.each do |c| %>
    <tr>
      <td><%= link_to "#{c.post_id}", admin_post_path(params[:post_id]) %></td>
      <td><%= c.id %></td>
      <td><%= c.body %></td>
      <td>
        <% if c.published %>
          <%= link_to 'unpublish', unpublish_admin_post_comment_path(params[:post_id], c.id), method: :put, data: {confirm: "Are you sure you want to unpublish this?"} %>
        <% else %>
          <%= link_to 'publish', publish_admin_post_comment_path(params[:post_id], c.id), method: :put, data: {confirm: "Are you sure you want to publish this?"} %>
        <% end %>
      </td>
      <td><%= link_to 'show', admin_post_comment_path(params[:post_id], c.id) %></td>
      <td><%= link_to 'edit', edit_admin_post_comment_path(params[:post_id], c.id) %></td>
      <td><%= link_to 'delete', admin_post_comment_path(params[:post_id], c.id), method: :delete, data: {confirm: "Are you sure you want to delete this permanently?"} %></td>
    </tr>
    <% end %>
</table>

<%= will_paginate @comments %>
